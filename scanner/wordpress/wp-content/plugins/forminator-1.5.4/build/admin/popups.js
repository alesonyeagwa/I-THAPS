!function(o){formintorjs.define(["admin/popup/templates","admin/popup/login","admin/popup/quizzes","admin/popup/schedule","admin/popup/new-form","admin/popup/ajax","admin/popup/delete"],function(p,e,n,a,t,i,r){var s=Backbone.View.extend({el:"main.sui-wrap",events:{"click .wpmudev-open-modal":"open_modal","click .wpmudev-button-open-modal":"open_modal"},initialize:function(){var o=Forminator.Utils.get_url_param("new"),p=Forminator.Utils.get_url_param("title");if(o){var e=new t({title:p});e.render(),this.open_popup(e,Forminator.l10n.popup.congratulations)}return this.render()},render:function(){return this},open_modal:function(p){p.preventDefault();var e=o(p.target);o(p.target).closest(".wpmudev-split--item");e.hasClass("wpmudev-open-modal")||e.hasClass("wpmudev-button-open-modal")||(e=e.closest(".wpmudev-open-modal"));var n=e.data("modal"),a=e.data("nonce"),t=e.data("form-id"),i=e.data("modal-title");switch(n){case"custom_forms":this.open_cform_popup();break;case"login_registration_forms":this.open_login_popup();break;case"polls":this.open_polls_popup();break;case"quizzes":this.open_quizzes_popup();break;case"exports":this.open_settings_modal(n,a,t,Forminator.l10n.popup.your_exports);break;case"exports-schedule":this.open_exports_schedule_popup();break;case"delete-module":this.open_delete_popup(t,a);break;case"paypal":this.open_settings_modal(n,a,t,Forminator.l10n.popup.paypal_settings);break;case"preview_cforms":_.isUndefined(i)&&(i=Forminator.l10n.popup.preview_cforms),this.open_settings_modal(n,a,t,i,!1,!0);break;case"preview_polls":_.isUndefined(i)&&(i=Forminator.l10n.popup.preview_polls),this.open_settings_modal(n,a,t,i,!1,!0);break;case"preview_quizzes":_.isUndefined(i)&&(i=Forminator.l10n.popup.preview_quizzes),this.open_settings_modal(n,a,t,i,!1,!0);break;case"captcha":this.open_settings_modal(n,a,t,Forminator.l10n.popup.captcha_settings,!1,!0,"wpmudev-ajax-popup");break;case"currency":this.open_settings_modal(n,a,t,Forminator.l10n.popup.currency_settings,!1,!0,"wpmudev-ajax-popup");break;case"pagination_entries":this.open_settings_modal(n,a,t,Forminator.l10n.popup.pagination_entries,!1,!0,"wpmudev-ajax-popup");break;case"pagination_listings":this.open_settings_modal(n,a,t,Forminator.l10n.popup.pagination_listings,!1,!0,"wpmudev-ajax-popup");break;case"email_settings":this.open_settings_modal(n,a,t,Forminator.l10n.popup.email_settings,!1,!0,"wpmudev-ajax-popup");break;case"uninstall_settings":this.open_settings_modal(n,a,t,Forminator.l10n.popup.uninstall_settings,!1,!0,"wpmudev-ajax-popup");break;case"privacy_settings":this.open_settings_modal(n,a,t,Forminator.l10n.popup.privacy_settings,!1,!0,"wpmudev-ajax-popup");break;case"export_cform":this.open_export_module_modal("custom_form",a,t,Forminator.l10n.popup.export_cform,!1,!0,"wpmudev-ajax-popup");break;case"export_poll":this.open_export_module_modal("poll",a,t,Forminator.l10n.popup.export_poll,!1,!0,"wpmudev-ajax-popup");break;case"export_quiz":this.open_export_module_modal("quiz",a,t,Forminator.l10n.popup.export_quiz,!1,!0,"wpmudev-ajax-popup");break;case"import_cform":this.open_import_module_modal("custom_form",a,t,Forminator.l10n.popup.import_cform,!1,!0,"wpmudev-ajax-popup");break;case"import_poll":this.open_import_module_modal("poll",a,t,Forminator.l10n.popup.import_poll,!1,!0,"wpmudev-ajax-popup");break;case"import_quiz":this.open_import_module_modal("quiz",a,t,Forminator.l10n.popup.import_quiz,!1,!0,"wpmudev-ajax-popup")}},open_popup:function(p,e,n,a,t,i){_.isUndefined(e)&&(e=Forminator.l10n.custom_form.popup_label);var r={title:e};_.isUndefined(n)||(r.has_custom_box=n),_.isUndefined(a)||(r.action_text=a),_.isUndefined(t)||(r.action_css_class=t),_.isUndefined(i)||(r.action_callback=i),Forminator.Popup.open(function(){_.isUndefined(p.el)?o(this).append(p):o(this).append(p.el)},r)},open_ajax_popup:function(p,e,n,a,t,r,s){_.isUndefined(a)&&(a=Forminator.l10n.custom_form.popup_label),_.isUndefined(t)&&(t=!0),_.isUndefined(r)&&(r=!1),_.isUndefined(s)&&(s="sui-box-body");var u=new i({action:p,nonce:e,id:n,enable_loader:!0,className:s}),l={title:a,has_custom_box:r};Forminator.Popup.open(function(){o(this).append(u.el)},l)},open_cform_popup:function(){var o=Forminator.Data.modules.custom_form.new_form_url;window.location.href=o},open_delete_popup:function(o,p){var e=new r({id:o,nonce:p,referrer:window.location.pathname+window.location.search});e.render();e.$el.find("form.delete-action"),Forminator.l10n.popup.delete;this.open_popup(e,Forminator.l10n.popup.are_you_sure,!0)},open_login_popup:function(){var o=new e;o.render(),this.open_popup(o,Forminator.l10n.popup.edit_login_form)},open_polls_popup:function(){var o=Forminator.Data.modules.polls.new_form_url;window.location.href=o},open_quizzes_popup:function(){var o=new n;o.render(),this.open_popup(o,Forminator.l10n.popup.quiz_type,!0)},open_exports_schedule_popup:function(){var o=new a;o.render(),this.open_popup(o,Forminator.l10n.popup.edit_scheduled_export,!0)},open_settings_modal:function(o,p,e,n,a,t,i){this.open_ajax_popup(o,p,e,n,a,t,i)},open_export_module_modal:function(o,p,e,n,a,t,i){var r="";switch(o){case"custom_form":r="export_custom_form";break;case"poll":r="export_poll";break;case"quiz":r="export_quiz"}this.open_ajax_popup(r,p,e,n,a,t,i)},open_import_module_modal:function(o,p,e,n,a,t,i){var r="";switch(o){case"custom_form":r="import_custom_form";break;case"poll":r="import_poll";break;case"quiz":r="import_quiz"}this.open_ajax_popup(r,p,e,n,a,t,i)}});jQuery(document).ready(function(){new s})})}(jQuery);